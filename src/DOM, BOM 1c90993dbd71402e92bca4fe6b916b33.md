# DOM, BOM

# Что такое DOM, каким объектом представлен?

Document Object Model

это представление HTML-документа в виде дерева тегов

Для манипуляций с DOM используется объект document

# Основные методы работы с DOM

- Основные методы работы с DOM

    querySelector

    querySelectorAll

    addEventListener

    createElement

    appendChild

    removeChild

# Как найти элемент на странице

document.querySelector

document.getElementBy[[Class/Tag]Name/Id]

# Что такое DOM коллекция

DOM-коллекции, такие как `childNodes` и другие не являются JavaScript-массивами.

В них нет методов массивов

но у них есть свои свойства и методы, которых в массивах нет

# Для чего нужны data атрибуты, как использовать

data-* атрибуты позволяют хранить дополнительную информацию в стандартных элементах HTML

getAttribute и setAttribute

# Как получить размеры элемента

HTMLElement.getBoundingClientRect()

или HTMLElement.offsetHeight и т.п

# Как можно добавить/удалить обработчик события на элемент

target.addEventListener(type, listener[, useCapture]);

target.removeEventListener(type, listener[, useCapture]);

- Позволяет регистрировать **неограниченное** количество обработчиков событий и удалять их с помощью `element.removeEventListener()` .
- Имеет параметр `useCapture` , который указывает, хотите ли вы обрабатывать событие в его **захвате или пузырьковой фазе** .

element.on[eventname]= function(){}

- Позволяет зарегистрировать **только один** обработчик событий. Кроме того, удаление назначенного обработчика не является интуитивно понятным, поскольку для удаления обработчика событий, назначенного с помощью этого метода, необходимо вернуть свойство `onevent` обратно в исходное состояние (т. е. `null` ).
- Не **реагирует на ошибки** должным образом. Например , если вы по ошибке назначите строку `window.onload` , например: `window.onload = "test";`, она не будет выдавать никаких ошибок. Ваш код не будет работать, и будет очень трудно выяснить, почему. Однако `.addEventListener()` вызовет ошибку (по крайней мере, в Firefox): ***TypeError: Аргумент 2 из EventTarget.addEventListener не является объектом*** .
- Не предоставляет способа выбрать, хотите ли вы обрабатывать событие в его захвате или пузырящейся фазе

# Как сделать чтобы не было перехода при клике по ссылке

event.preventDefault();

# Что такое всплытие, погружение

Принцип всплытия очень простой.

**Когда на элементе происходит событие, обработчики сначала срабатывают на нём, потом на его родителе, затем выше и так далее, вверх по цепочке предков.**

Существует ещё одна фаза из жизненного цикла события – «погружение» (иногда её называют «перехват»). Она очень редко используется в реальном коде, однако тоже может быть полезной.

Стандарт [DOM Events](http://www.w3.org/TR/DOM-Level-3-Events/) описывает 3 фазы прохода события:

1. Фаза погружения (capturing phase) – событие сначала идёт сверху вниз.
2. Фаза цели (target phase) – событие достигло целевого(исходного) элемента.
3. Фаза всплытия (bubbling stage) – событие начинает всплывать.

# В чем разница между stopPropagation и stopImmediatePropagation

1 прекращает распространение события к родительским элементам

2 прекращает распространение события к родительским элементам и прекращает обработку этого события всеми последующими обработчиками

# В каком контексте вызывается обработчик

обработчики событий вызываются как методы объектов, в которых они определены.

в теле обработчика событий ключевое слово this ссылается на цель события.

В обработчиках ключевое слово this ссылается на целевой объект, даже когда они были зарегистрированы с помощью метода addEventListener(). обработчики, зарегистрированные с помощью метода attachEvent(), вызываются как функции, и в них ключевое слово this ссылается на глобальный (Window) объект

# В чем отличие target от currentTarget

e.target = вещь под мышкой 

e.currentTarget = вещь перед точкой (element.addEventListener)

e.currentTarget всегда является элементом, с которым событие действительно связано. e.target -это элемент, из которого произошло событие, поэтому e.target может быть дочерним элементом e.currentTarget или e.target может быть === e.currentTarget

# Что будет если передать объект в качестве обработчика в addEventListener

В этом случае, когда происходит событие, вызывается метод объекта handleEvent

# Какие события не всплывают

focus

blur

mouseenter

mouseleave

# Что такое BOM

Browser Object Model

BOM-объекты обеспечивают доступ к функционалу браузера независимо от контента веб-страницы

- BOM-объекты
    - [Объект Window](https://puzzleweb.ru/javascript/bom_window.php)
    - [Объект Navigator](https://puzzleweb.ru/javascript/bom_navigator.php)
    - [Объект Screen](https://puzzleweb.ru/javascript/bom_screen.php)
    - [Объект History](https://puzzleweb.ru/javascript/bom_history.php)
    - [Объект Location](https://puzzleweb.ru/javascript/bom_location.php)